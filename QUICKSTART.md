# ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç CI/CD

## üéØ –ó–∞ 5 –º–∏–Ω—É—Ç

### 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
mkdir -p .github/workflows
mkdir -p main/tests

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ Claude:
# - .github/workflows/ci-cd.yml
# - .github/workflows/release.yml
# - main/tests/__init__.py
# - main/tests/test_models.py
# - main/tests/test_views.py
# - main/tests/test_forms.py
# - pytest.ini
# - .flake8
# - Makefile
# - setup_ci_cd.sh
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (Linux/Mac)

```bash
chmod +x setup_ci_cd.sh
./setup_ci_cd.sh
```

### 3. –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (Windows)

```powershell
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª main/tests/__init__.py (–ø—É—Å—Ç–æ–π)
New-Item -ItemType File -Path "main/tests/__init__.py" -Force

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
pip install pytest pytest-django pytest-cov coverage black isort flake8 pylint pylint-django
```

### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub Secrets

–ü–µ—Ä–µ–π–¥–∏—Ç–µ: **Settings ‚Üí Secrets and variables ‚Üí Actions**

–î–æ–±–∞–≤—å—Ç–µ:
- `SECRET_KEY` - Django secret key
- `CLOUDINARY_URL` - Cloudinary URL
- `DOCKER_USERNAME` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `DOCKER_PASSWORD` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã

```bash
# –û–¥–∏–Ω —Ä–∞–∑
python manage.py test

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Makefile
make test
```

### 6. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ

```bash
git add .
git commit -m "Add CI/CD pipeline and tests"
git push origin main
```

### 7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub Actions

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí **Actions** –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ pipeline –∑–∞–ø—É—Å—Ç–∏–ª—Å—è.

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ `main` –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ (lint)
- ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Ç–µ—Å—Ç—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –°–æ–±–∏—Ä–∞—Ç—å—Å—è Docker –æ–±—Ä–∞–∑
- ‚úÖ (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–µ–ø–ª–æ–∏—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## üìä –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

–¢–µ–∫—É—â–∏–µ —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç:
- ‚úÖ –ú–æ–¥–µ–ª–∏ (Point, Table, CalculationResult, Profile, Post, Comment)
- ‚úÖ Views (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏, —Ñ–æ—Ä—É–º)
- ‚úÖ –§–æ—Ä–º—ã (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, –ø–æ—Å—Ç—ã, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)

**–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ: ~70-80%**

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è `views.py` (calculations, graph_view)
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (–¥–æ–±–∞–≤—å—Ç–µ `DEPLOY_*` —Å–µ–∫—Ä–µ—Ç—ã)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Codecov –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è
4. –î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑: `git tag v1.0.0 && git push origin v1.0.0`

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
make help           # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
make test           # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make test-coverage  # –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make lint           # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
make format         # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
make docker-up      # –ó–∞–ø—É—Å–∫ Docker
```

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

1. **–¢–µ—Å—Ç—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è?**
   ```bash
   pip install -r requirements.txt
   python manage.py migrate
   ```

2. **GitHub Actions –ø–∞–¥–∞–µ—Ç?**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ Actions tab

3. **Docker –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è?**
   ```bash
   docker system prune -a
   docker-compose build --no-cache
   ```

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º–æ—Ç—Ä–∏—Ç–µ [CI_CD_SETUP.md](CI_CD_SETUP.md) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

---

**–ê–≤—Ç–æ—Ä**: Alexey Rozhdestvenskiy  
**–ü—Ä–æ–µ–∫—Ç**: CurvativeParameter  
**–î–∞—Ç–∞**: 2025-11-03